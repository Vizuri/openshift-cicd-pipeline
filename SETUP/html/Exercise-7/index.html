<html>
  <head>
    <title>Advanced Container CI/CD Workshop Labs</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <style>
      img[alt="car-thumbnail"] {
        width: 30vw;
        height: 30vw;
        display: inline-block;
        object-fit: cover;
      }
      img[alt="car-thumbnail"] + br {
        display: none;
      }
    </style>
  </head>
  <body class="markdown-body">
<a href=/>Home</a>   
<h1>Advanced Container CI/CD Workshop Labs</h1>
<hr/>

<h1>Exercise 7 - Scan Container Image</h1>

<p>In the next step, we will scan the newly created image for issues and known vulnerabilities.   We will be using the Jenkins Anchore Image Scanner for this task.</p>

<p>Add the following lines to the Jenkinsfile.</p>

<div class="highlight"><pre lang="">
    if (BRANCH_NAME ==~ /(develop|release.*)/) {       
        stage('Container Scan') {
            writeFile file: 'anchore_images', text: "${imageBase}/${imageNamespace}/${app_name}:${tag} Dockerfile"
            anchore engineRetries: '800', name: 'anchore_images'
        }
    }
</pre></div>

<p>Once complete, you will see the Anchore Report Link associated with the build.  </p>

<p><img src="../images/image5.png" alt="alt text" title="" /></p>
  </body>
</html>